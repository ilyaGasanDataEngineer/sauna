:root{
  /* ТЁМНАЯ МОЛОЧНО-ШОКОЛАДНАЯ ПАЛИТРА (без розовых) */
  --bg:#ece3d9;            /* тёплый бежевато-молочный фон, темнее прежнего */
  --bg-2:#e2d6c9;          /* тёплая подложка секций */
  --card:#ffffff;          /* карточки и формы */
  --ink:#2b241f;           /* тёмно-коричневый текст */
  --muted:#6b5a4c;         /* вторичный текст */
  --brand:#7a4a2b;         /* основной шоколадный акцент */
  --brand-2:#9c6a43;       /* более светлый шоколад для ховеров */
  --accent:#b87a3d;        /* янтарно-карамельный штрих */
  --radius:18px;
  --shadow:0 14px 36px rgba(50,34,20,.16);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  font-family:'Manrope',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:
    radial-gradient(1200px 700px at 90% -10%, rgba(184,122,61,.08), transparent 40%),
    linear-gradient(180deg, var(--bg), #e9dfd3 30%, var(--bg) 100%);
  color:var(--ink);
  -webkit-font-smoothing:antialiased;
}
img{max-width:100%;display:block}
a{color:var(--brand)} a:hover{color:var(--brand-2)}

.site-header .navbar{
  background:rgba(255,255,255,.85);
  backdrop-filter:saturate(140%) blur(10px);
  box-shadow:0 2px 20px rgba(0,0,0,.06);
}
.navbar-dark .navbar-nav .nav-link{color:#3b2f28}
.navbar-dark .navbar-brand{color:#3b2f28}

.section{padding:72px 0}
.section-alt{background:var(--bg-2)}
.fw-800{font-weight:800}

.hero-lite{padding:72px 0 24px; position:relative}
.hero-lite:before{
  content:""; position:absolute; inset:-8rem -8rem auto -8rem; height:56%;
  background:
    radial-gradient(60% 60% at 15% 20%, rgba(184,122,61,.22), transparent 60%),
    radial-gradient(70% 70% at 85% 10%, rgba(122,74,43,.09), transparent 65%);
  z-index:-1;
}
.hero-img img{border-radius:var(--radius); box-shadow:var(--shadow)}

.card-ben, .card-form, .specs, .step-card, .card-project{
  background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
}
.card-ben{padding:18px}
.ben-ico{font-size:28px; margin-bottom:6px}
.ben-title{font-weight:800}
.ben-text{font-size:.95rem; color:var(--muted)}

.card-project{display:block; text-decoration:none; color:inherit; overflow:hidden; transition:transform .2s ease, box-shadow .2s ease}
.card-project:hover{transform:translateY(-6px); box-shadow:0 16px 44px rgba(50,34,20,.2)}
.card-project .card-img{aspect-ratio:4/3; overflow:hidden}
.card-project .card-img img{width:100%; height:100%; object-fit:cover; transform:scale(1.02); transition:transform .4s ease}
.card-project:hover .card-img img{transform:scale(1.06)}
.card-project .card-body{padding:14px}
.card-title{font-weight:800}
.card-sub{font-size:.95rem; color:var(--muted)}
.card-specs{display:flex; gap:12px; margin-top:6px; font-size:.95rem; color:#4d3f35}

.specs{padding:16px; display:grid; gap:8px}
.price .price-val{font-size:1.8rem; font-weight:800; color:#4a3426}

.cta-box{background:linear-gradient(180deg,#fff,#f0e6da); border:1px solid #e2d4c6; border-radius:var(--radius); padding:16px; box-shadow:var(--shadow)}

.card-form{padding:16px; border:1px solid #e6d7c7}
.form-control, .form-select{
  background:#fff; border:1px solid #d7c5b2; color:var(--ink);
}
.form-control:focus{border-color:var(--brand); box-shadow:0 0 0 .2rem rgba(122,74,43,.16)}

.btn-primary{background:linear-gradient(180deg,var(--brand),#6d4026); border:none}
.btn-primary:hover{background:linear-gradient(180deg,#8a5734,#75482d)}
.btn-outline-light{border-color:var(--ink); color:var(--ink)}
.btn-outline-light:hover{background:var(--ink); color:#fff}

.step-card{padding:18px}
.step-num{
  width:40px;height:40px;border-radius:10px;background:var(--bg-2);
  display:flex;align-items:center;justify-content:center;margin-bottom:8px;color:#5b3d28;font-weight:800
}
.step-title{font-weight:800}

.site-footer{border-top:1px solid #e1d3c5; background:#fff}

/* Reveal анимации */
.reveal{opacity:0; transform:translateY(16px); transition:opacity .5s ease, transform .5s ease}
.reveal.is-visible{opacity:1; transform:none}

/* Главный hero (лендинг) */
.section-hero{position:relative; padding:96px 0 64px;}
.section-hero .hero-bg{
  position:absolute; inset:0;
  background:
    radial-gradient(60% 70% at 80% 10%, rgba(184,122,61,.18), transparent 60%),
    radial-gradient(50% 60% at 10% 20%, rgba(122,74,43,.10), transparent 60%);
  z-index:-1;
}

/* Swiper brand color */
.swiper{--swiper-theme-color: var(--brand)}

/* --- NAVBAR / HEADER --- */
body{padding-top:74px} /* место под fixed-top */
.choco-nav{
  background:rgba(255,255,255,.92);
  backdrop-filter:saturate(140%) blur(10px);
  box-shadow:0 8px 24px rgba(50,34,20,.06);
  transition: box-shadow .25s ease, background .25s ease;
}
.choco-nav.scrolled{
  background:#fff;
  box-shadow:0 10px 30px rgba(50,34,20,.12);
}
.navbar-brand{color:#3b2f28 !important; transition:transform .15s ease}
.hover-pop:hover{transform:translateY(-1px) scale(1.02)}
.nav-link{position:relative; color:#3b2f28 !important; padding:.6rem 1rem; font-weight:600}
.nav-link.hover-underline:after{
  content:""; position:absolute; left:1rem; right:1rem; bottom:.35rem; height:2px; background:var(--brand);
  transform:scaleX(0); transform-origin:left; transition:transform .2s ease;
}
.nav-link:hover:after, .nav-link.active:after{transform:scaleX(1)}
.navbar .btn{border-radius:12px}

/* --- HOVER MICRO-INTERACTIONS --- */
.hover-elevate{transition:transform .15s ease, box-shadow .2s ease}
.hover-elevate:hover{transform:translateY(-2px); box-shadow:0 10px 28px rgba(50,34,20,.18)}
.card-ben:hover{transform:translateY(-4px); box-shadow:0 16px 40px rgba(50,34,20,.2)}
.step-card{transition:transform .2s ease, box-shadow .2s ease}
.step-card:hover{transform:translateY(-3px); box-shadow:0 14px 32px rgba(50,34,20,.18)}
.specs{transition:box-shadow .2s ease, border-color .2s ease}
.specs:hover{box-shadow:0 12px 32px rgba(50,34,20,.14)}
.form-control:hover{border-color:#c7b39d}

/* --- BREADCRUMBS --- */
.breadcrumb{--bs-breadcrumb-divider: '›';}
.breadcrumb a{color:var(--brand); text-decoration:none}
.breadcrumb a:hover{color:var(--brand-2); text-decoration:underline}

/* --- PAGINATION --- */
.pagination-choco .page-link{
  color:#3b2f28; border:1px solid #e2d4c6; background:#fff; border-radius:10px; margin:0 .2rem;
  transition:transform .15s ease, box-shadow .2s ease, background .2s;
}
.pagination-choco .page-link:hover{transform:translateY(-2px); box-shadow:0 10px 24px rgba(50,34,20,.12)}
.pagination-choco .active .page-link{background:var(--brand); color:#fff; border-color:var(--brand)}

/* место под фиксированную шапку */
body{padding-top:74px}

/* --- NAVBAR / HEADER --- */
.choco-nav{
  background:rgba(255,255,255,.92);
  backdrop-filter:saturate(140%) blur(10px);
  box-shadow:0 8px 24px rgba(50,34,20,.06);
  transition: box-shadow .25s ease, background .25s ease;
}
.choco-nav.scrolled{
  background:#fff;
  box-shadow:0 10px 30px rgba(50,34,20,.12);
}
.navbar-brand{color:#3b2f28 !important; transition:transform .15s ease}
.hover-pop:hover{transform:translateY(-1px) scale(1.02)}
.nav-link{position:relative; color:#3b2f28 !important; padding:.6rem 1rem; font-weight:600}
.nav-link.hover-underline:after{
  content:""; position:absolute; left:1rem; right:1rem; bottom:.35rem; height:2px; background:var(--brand);
  transform:scaleX(0); transform-origin:left; transition:transform .2s ease;
}
.nav-link:hover:after, .nav-link.active:after{transform:scaleX(1)}
.navbar .btn{border-radius:12px}

/* --- HOVER MICRO-INTERACTIONS --- */
.hover-elevate{transition:transform .15s ease, box-shadow .2s ease}
.hover-elevate:hover{transform:translateY(-2px); box-shadow:0 10px 28px rgba(50,34,20,.18)}
.card-ben:hover{transform:translateY(-4px); box-shadow:0 16px 40px rgba(50,34,20,.2)}
.step-card{transition:transform .2s ease, box-shadow .2s ease}
.step-card:hover{transform:translateY(-3px); box-shadow:0 14px 32px rgba(50,34,20,.18)}
.specs{transition:box-shadow .2s ease, border-color .2s ease}
.specs:hover{box-shadow:0 12px 32px rgba(50,34,20,.14)}
.form-control:hover{border-color:#c7b39d}

/* --- BREADCRUMBS --- */
.breadcrumb{--bs-breadcrumb-divider: '›';}
.breadcrumb a{color:var(--brand); text-decoration:none}
.breadcrumb a:hover{color:var(--brand-2); text-decoration:underline}

/* --- PAGINATION --- */
.pagination-choco .page-link{
  color:#3b2f28; border:1px solid #e2d4c6; background:#fff; border-radius:10px; margin:0 .2rem;
  transition:transform .15s ease, box-shadow .2s ease, background .2s;
}
.pagination-choco .page-link:hover{transform:translateY(-2px); box-shadow:0 10px 24px rgba(50,34,20,.12)}
.pagination-choco .active .page-link{background:var(--brand); color:#fff; border-color:var(--brand)}

/* --- About modal --- */
.ben-modal-trigger{cursor:pointer; position:relative; overflow:hidden; transition:transform .2s ease, box-shadow .2s ease}
.ben-modal-trigger .ben-more{
  position:absolute; right:12px; bottom:12px; background:var(--brand); color:#fff; font-size:.85rem;
  padding:6px 10px; border-radius:10px; opacity:.0; transform:translateY(6px); transition:.2s ease;
}
.ben-modal-trigger:hover{transform:translateY(-4px); box-shadow:0 18px 42px rgba(50,34,20,.22)}
.ben-modal-trigger:hover .ben-more{opacity:1; transform:none}

.about-modal{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:rgba(20,20,20,.55); z-index:1050; opacity:0; visibility:hidden; transition:opacity .25s ease, visibility .25s ease;
}
.about-modal.is-open{opacity:1; visibility:visible}
.about-modal__backdrop{position:absolute; inset:0;}
.about-modal__dialog{
  position:relative; width:min(100%, 980px); margin:16px; border-radius:18px; overflow:hidden;
  background:#fff; box-shadow:0 24px 70px rgba(0,0,0,.35); transform:translateY(12px) scale(.98); transition:transform .25s ease;
}
.about-modal.is-open .about-modal__dialog{transform:none}
.about-modal__close{
  position:absolute; top:10px; right:10px; z-index:2;
  width:40px; height:40px; border-radius:10px; border:1px solid #e5d7c8; background:#fff; color:#5a422f; font-size:24px;
  display:flex; align-items:center; justify-content:center; cursor:pointer; transition:box-shadow .2s ease, transform .15s ease, background .2s ease;
}
.about-modal__close:hover{transform:translateY(-1px); box-shadow:0 10px 24px rgba(50,34,20,.14); background:#faf7f2}
.about-modal__content{display:grid; grid-template-columns:1fr 1fr; min-height:420px}
.about-modal__media{position:relative}
.about-modal__media img{width:100%; height:100%; object-fit:cover}
.about-modal__body{padding:24px 24px 28px; display:flex; flex-direction:column; justify-content:center}
@media (max-width: 768px){
  .about-modal__content{grid-template-columns:1fr}
  .about-modal__body{padding:18px}
}

/* === PROCESS TIMELINE === */
.section .timeline{position:relative; padding:12px 0 12px}
.timeline::before{
  content:""; position:absolute; left:50%; top:0; bottom:0; width:2px; transform:translateX(-1px);
  background:#decfbe;
}
.timeline-progress{
  position:absolute; left:50%; top:0; width:2px; transform:translateX(-1px);
  background:var(--brand); height:0;
  box-shadow:0 0 0 4px rgba(122,74,43,.08);
  transition:height .25s ease-out;
}
.timeline-item{position:relative; width:50%; padding:22px 0}
.timeline-item.is-left{float:left; padding-right:40px}
.timeline-item.is-right{float:right; padding-left:40px}
.timeline-dot{
  position:absolute; left:50%; top:50%;
  width:12px; height:12px; border-radius:50%;
  background:#fff; border:2px solid var(--brand);
  box-shadow:0 0 0 4px rgba(164,113,72,.12);
  transform:translate(-50%,-50%);
}
.timeline-card{
  width:100%; text-align:left; cursor:pointer; background:var(--card);
  border:1px solid #e6d7c7; border-radius:18px; padding:16px;
  box-shadow:var(--shadow); transition:transform .2s ease, box-shadow .2s ease, border-color .2s;
}
.timeline-card:hover{transform:translateY(-4px); box-shadow:0 18px 42px rgba(50,34,20,.18); border-color:#decfbe}
.timeline-meta{display:flex; align-items:center; gap:10px; color:var(--muted); margin-bottom:8px}
.timeline-idx{
  width:34px; height:34px; border-radius:10px; background:var(--bg-2);
  display:flex; align-items:center; justify-content:center; font-weight:800; color:#5b3d28
}
.timeline-ico{font-size:18px}
.timeline-title{margin:0 0 6px 0; font-weight:800}
.timeline-text{margin:0}
.timeline-more{
  margin-top:10px; display:inline-block; font-size:.92rem; color:var(--brand);
  transition:transform .15s ease; transform:translateX(0)
}
.timeline-card:hover .timeline-more{transform:translateX(3px)}

@media (max-width: 992px){
  .timeline-item{width:100%; float:none; padding:18px 0 18px 30px}
  .timeline::before, .timeline-progress{left:20px; transform:none}
  .timeline-dot{left:20px; transform:translate(-50%,-50%)}
}

/* === STEP MODAL === */
.step-modal{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:rgba(20,20,20,.55); z-index:1050; opacity:0; visibility:hidden; transition:opacity .25s ease, visibility .25s ease;
}
.step-modal.is-open{opacity:1; visibility:visible}
.step-modal__backdrop{position:absolute; inset:0;}
.step-modal__dialog{
  position:relative; width:min(100%, 1024px); margin:16px; border-radius:18px; overflow:hidden;
  background:#fff; box-shadow:0 24px 70px rgba(0,0,0,.35); transform:translateY(12px) scale(.98); transition:transform .25s ease;
}
.step-modal.is-open .step-modal__dialog{transform:none}
.step-modal__close{
  position:absolute; top:10px; right:10px; z-index:2;
  width:40px; height:40px; border-radius:10px; border:1px solid #e5d7c8; background:#fff; color:#5a422f; font-size:24px;
  display:flex; align-items:center; justify-content:center; cursor:pointer; transition:box-shadow .2s ease, transform .15s ease, background .2s ease;
}
.step-modal__close:hover{transform:translateY(-1px); box-shadow:0 10px 24px rgba(50,34,20,.14); background:#faf7f2}
.step-modal__content{display:grid; grid-template-columns:1fr 1fr; min-height:460px}
.step-modal__media img{width:100%; height:100%; object-fit:cover}
.step-modal__body{padding:26px; display:flex; flex-direction:column; justify-content:center}
@media (max-width: 768px){
  .step-modal__content{grid-template-columns:1fr}
  .step-modal__body{padding:18px}
}

/* === UNIFORM SIZES / UTILITIES === */

/* Фиксированные контейнеры соотношений сторон */
.ratio-box{position:relative; width:100%; overflow:hidden; border-radius:var(--radius)}
.ratio-4x3{aspect-ratio:4/3}
.ratio-16x9{aspect-ratio:16/9}
.ratio-box > img{width:100%; height:100%; object-fit:cover; display:block}

/* Клампы текста (обрезка по строкам) */
.clamp-1{display:-webkit-box; -webkit-line-clamp:1; -webkit-box-orient:vertical; overflow:hidden}
.clamp-2{display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden}
.clamp-3{display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden}

/* Ряды, где у колонок одинаковая высота карточек */
.row.equalize > [class*="col-"]{display:flex}
.row.equalize > [class*="col-"] > *{flex:1}

/* Карточки проектов: одинаковая высота */
.card-project{height:100%; display:flex; flex-direction:column}
.card-project .card-img{flex:0 0 auto}
.card-project .card-body{flex:1 1 auto; display:flex; flex-direction:column}
.card-project .card-title{margin-bottom:4px}
.card-project .card-sub{margin:0}
.card-project .card-specs{margin-top:auto}

/* Бенефиты (о компании): одинаковая высота */
.card-ben{height:100%; display:flex; flex-direction:column}
.card-ben .ben-title{margin-bottom:6px}
.card-ben .ben-text{margin-top:auto}

/* Таймлиния: одинаковая высота карточек */
.timeline-card{min-height:150px}

/* Галерея проекта — одинаковое окно слайдов */
.project-swiper .swiper-slide{aspect-ratio:16/9; border-radius:var(--radius); overflow:hidden}
.project-swiper .swiper-slide img{width:100%; height:100%; object-fit:cover}

/* Планы (чертежи) — одинаковые превью */
.plan-grid .plan{border-radius:12px; overflow:hidden}
.plan-grid .plan .ratio-box{border-radius:12px}

/* === REVERT: убрать форсированные равные высоты/ratio (возврат "как было") === */
.card-project{height:auto}
.card-project .card-body{display:block}
.card-project .card-img{aspect-ratio:auto}
.card-ben{height:auto}
.timeline-card{min-height:initial}
.project-swiper .swiper-slide{aspect-ratio:auto}
.project-swiper .swiper-slide img{height:auto}
.plan-grid .plan .ratio-box{aspect-ratio:auto}
.ratio-box{aspect-ratio:auto}
.clamp-1,.clamp-2,.clamp-3{-webkit-line-clamp:unset;display:block;overflow:visible}

/* fix: ensure project card fills column width */
.card-project{display:block; width:100%}

/* ==== PROJECT CARDS (как на О нас, но крупнее) ==== */
.card-proj{
  background:var(--card);
  border:1px solid #e6d7c7;
  border-radius:18px;
  box-shadow:var(--shadow);
  overflow:hidden;
  cursor:pointer;
  display:flex; flex-direction:column; height:100%;
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s;
}
.card-proj:hover{transform:translateY(-4px); box-shadow:0 18px 42px rgba(50,34,20,.18); border-color:#decfbe}
.card-proj .proj-media{aspect-ratio:4/3; overflow:hidden}
.card-proj .proj-media img{width:100%; height:100%; object-fit:cover; display:block; transform:scale(1.02); transition:transform .4s ease}
.card-proj:hover .proj-media img{transform:scale(1.06)}
.card-proj .proj-body{padding:14px; display:flex; flex-direction:column; gap:6px; flex:1}
.proj-title{font-weight:800; font-size:1.05rem}
.proj-sub{font-size:.95rem}
.proj-specs{display:flex; gap:12px; flex-wrap:wrap; color:#5b514a; margin-top:2px}
.proj-actions{display:flex; align-items:center; justify-content:space-between; margin-top:auto}
.proj-more{font-size:.9rem; color:var(--brand); transition:transform .15s ease}
.card-proj:hover .proj-more{transform:translateX(3px)}

/* ==== PROJECT QUICK VIEW MODAL ==== */
.project-modal{
  position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
  background:rgba(20,20,20,.55); z-index:1050; opacity:0; visibility:hidden; transition:opacity .25s ease, visibility .25s ease;
}
.project-modal.is-open{opacity:1; visibility:visible}
.project-modal__backdrop{position:absolute; inset:0;}
.project-modal__dialog{
  position:relative; width:min(100%, 1024px); margin:16px; border-radius:18px; overflow:hidden;
  background:#fff; box-shadow:0 24px 70px rgba(0,0,0,.35); transform:translateY(12px) scale(.98); transition:transform .25s ease;
}
.project-modal.is-open .project-modal__dialog{transform:none}
.project-modal__close{
  position:absolute; top:10px; right:10px; z-index:2;
  width:40px; height:40px; border-radius:10px; border:1px solid #e5d7c8; background:#fff; color:#5a422f; font-size:24px;
  display:flex; align-items:center; justify-content:center; cursor:pointer; transition:box-shadow .2s ease, transform .15s ease, background .2s ease;
}
.project-modal__close:hover{transform:translateY(-1px); box-shadow:0 10px 24px rgba(50,34,20,.14); background:#faf7f2}
.project-modal__content{display:grid; grid-template-columns:1fr 1fr; min-height:460px}
.project-modal__media img{width:100%; height:100%; object-fit:cover}
.project-modal__body{padding:26px; display:flex; flex-direction:column; justify-content:center}
@media (max-width: 768px){
  .project-modal__content{grid-template-columns:1fr}
  .project-modal__body{padding:18px}
}
